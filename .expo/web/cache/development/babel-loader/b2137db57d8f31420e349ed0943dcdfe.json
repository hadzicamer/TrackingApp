{"ast":null,"code":"'use strict';\n\nvar _classCallCheck = require(\"@babel/runtime/helpers/classCallCheck\");\n\nvar _createClass = require(\"@babel/runtime/helpers/createClass\");\n\nvar React = require(\"react-native-web/dist/index\");\n\nvar Model = require(\"./model\");\n\nvar AsyncStorage = React.AsyncStorage;\n\nvar ReactNativeAsyncStorage = function () {\n  function ReactNativeAsyncStorage() {\n    _classCallCheck(this, ReactNativeAsyncStorage);\n  }\n\n  _createClass(ReactNativeAsyncStorage, [{\n    key: \"using\",\n    value: function using(model) {\n      var _this = this;\n\n      return new Promise(function (resolve, reject) {\n        AsyncStorage.getItem(model).then(function (value) {\n          return resolve(new Model(value || '{}', _this.save.bind(_this, model)));\n        }).catch(reject);\n      });\n    }\n  }, {\n    key: \"save\",\n    value: function save(model, data) {\n      return new Promise(function (resolve, reject) {\n        AsyncStorage.setItem(model, JSON.stringify(data)).then(function (value) {\n          return resolve(value);\n        }).catch(reject);\n      });\n    }\n  }]);\n\n  return ReactNativeAsyncStorage;\n}();\n\nmodule.exports = ReactNativeAsyncStorage;","map":{"version":3,"sources":["C:/Users/Amer/Documents/ReactNative/tracks/node_modules/react-native-async-storage/src/storage.js"],"names":["Model","require","AsyncStorage","React","ReactNativeAsyncStorage","model","Promise","resolve","reject","getItem","then","value","save","bind","catch","data","setItem","JSON","stringify","module","exports"],"mappings":"AAAA;;;;;;;;AAGA,IAAIA,KAAK,GAAGC,OAAO,WAAnB;;IAEEC,Y,GACIC,K,CADJD,Y;;IAGIE,uB;;;;;;;0BAEEC,K,EAAO;AAAA;;AACX,aAAO,IAAIC,OAAJ,CAAY,UAACC,OAAD,EAAUC,MAAV,EAAqB;AACtCN,QAAAA,YAAY,CAACO,OAAb,CAAqBJ,KAArB,EACGK,IADH,CACQ,UAACC,KAAD;AAAA,iBAAWJ,OAAO,CAAC,IAAIP,KAAJ,CAAUW,KAAK,IAAI,IAAnB,EAAyB,KAAI,CAACC,IAAL,CAAUC,IAAV,CAAe,KAAf,EAAqBR,KAArB,CAAzB,CAAD,CAAlB;AAAA,SADR,EAEGS,KAFH,CAESN,MAFT;AAGD,OAJM,CAAP;AAKD;;;yBAEIH,K,EAAOU,I,EAAM;AAChB,aAAO,IAAIT,OAAJ,CAAY,UAACC,OAAD,EAAUC,MAAV,EAAqB;AACtCN,QAAAA,YAAY,CAACc,OAAb,CAAqBX,KAArB,EAA4BY,IAAI,CAACC,SAAL,CAAeH,IAAf,CAA5B,EACGL,IADH,CACQ,UAACC,KAAD;AAAA,iBAAWJ,OAAO,CAACI,KAAD,CAAlB;AAAA,SADR,EAEGG,KAFH,CAESN,MAFT;AAGD,OAJM,CAAP;AAKD;;;;;;AAIHW,MAAM,CAACC,OAAP,GAAiBhB,uBAAjB","sourcesContent":["'use strict';\n\nvar React = require('react-native');\nvar Model = require('./model');\nvar {\n  AsyncStorage\n  } = React;\n\nclass ReactNativeAsyncStorage {\n\n  using(model) {\n    return new Promise((resolve, reject) => {\n      AsyncStorage.getItem(model)\n        .then((value) => resolve(new Model(value || '{}', this.save.bind(this, model))))\n        .catch(reject);\n    });\n  }\n\n  save(model, data) {\n    return new Promise((resolve, reject) => {\n      AsyncStorage.setItem(model, JSON.stringify(data))\n        .then((value) => resolve(value))\n        .catch(reject);\n    });\n  }\n\n}\n\nmodule.exports = ReactNativeAsyncStorage;\n"]},"metadata":{},"sourceType":"script"}